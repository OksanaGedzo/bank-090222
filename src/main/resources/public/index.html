<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<br>
<br>

<h1>TERE TULEMAST</h1>
<h2>See on minu kodulehekülg</h2>
<h3>Tahan tulla teile praktikale</h3>
<h4>FULL STACK ARENDAJAD</h4>

<br>
<br>


<select id="internSelect">
    <option value="1">Java arendaja</option>
    <option value="2">Testija</option>
</select>
<br>

<br>

 <input id="dateSelected" type="date">
<br>
<br>
<button id="internButton">Vali millal</button>

<br>
<br>
<br>
<br>
Andmed SISSE:
<input type="text" id="someTextInput">
<br>
<br>
Andmed VÄLJA:
<input disabled type="text" id="someTextOutput">
<br>
<br>
<button id="inputButton">Lae andmed</button>

<br>
<br>

Miinimum A'st ja B'st
<br>
<br>
Number A:  <input type="number" id="minA">
<br>
<br>
Number B:  <input type="number" id="minB">
<br>
<br>
Õige vastus:
<input type="text" id="minAnswer">
<br>
<br>
<button id="minButton">Arvuta min</button>

<br>
<br>
<br>


<button id="fetchDemoButton">fetch</button>
<br>
<br>
<br>

<h2>

    <a href="https://levelupaudit.com/blog/webetiquette">
        Good solutions
    </a>

</h2>


<ul id="Menu">
    <li>waw</li>
    <li>waw</li>
    <li>waw</li>
</ul>

<img
        src="https://www3.tallinn.ee/gal_pildid/196541.jpg">
<br>
<textarea style="color: lightgrey; background-color : lightslategrey" id="2" cols="80" rows="3"> Nurr-nurr</textarea>
<br>
<br>


<br>
<br>
<br>
ISIKUKOOD
<br>
<br>
<input type="text" name="inputIdKood" id="inputIsikukood">
<button id="fetchIdButton">Isikukood</button>
<br>
<br>
<textarea style="color: lightgrey; background-color : lightslategrey" id="responseField" cols="80"
          rows="25"> </textarea>
<br>
<script>
    let elementMinA = document.getElementById('minA');
    let elementMinB = document.getElementById('minB');
    let elementMinAnswer = document.getElementById('minAnswer');
    let elementMinButton = document.getElementById('minButton')

    elementMinButton.onclick = function () {
        let valueA = elementMinA.value;
        let valueB = elementMinB.value;

        elementMinAnswer.value = Number(valueA) < Number(valueB) ? valueA : valueB;
    }


    let elementFetchButton = document.getElementById('fetchDemoButton');


    let myHeaders = new Headers();
    myHeaders.append("accept", "application/json");

    let requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
    };


    elementFetchButton.onclick = function () {
        fetch("http://localhost:8080/transaction/all", requestOptions)
            .then(response => response.json())
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    }

    let elementFetchIdButton = document.getElementById('fetchIdButton')
    let elementIdField = document.getElementById('inputIsikukood')
    let elementResponseField = document.getElementById('responseField')

    elementFetchIdButton.onclick = function () {
        fetch("http://localhost:8080/transaction/all/by/id/code?idCode=" + elementIdField.value, requestOptions)
            .then(response => response.text())
            .then(result => {
                elementResponseField.value = result.valueOf()
            })
            .catch(error => console.log('error', error));
    }
</script>

</body>
</html>
